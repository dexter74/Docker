#################################################################
# Information: Stack qui ont leur permission en dossier en root #
#################################################################

#################
version: '2.4'  #
#################

############
services:  #
#########################################################################
# https://hub.docker.com/_/mariadb                                      #
  mysql:                                                                #
    network_mode: bridge                                                #
    container_name: mysql                                               #
    image: mariadb                                                      #
    restart: always                                                     #
    environment:                                                        #
      MYSQL_ROOT_PASSWORD: 'root'                                       #
      MYSQL_DATABASE: 'database'                                        #
      MYSQL_USER: 'admin'                                               #
      MYSQL_PASSWORD: 'admin'                                           #
    volumes:                                                            #
      - /home/docker/container/root/MariaDB:/var/lib/mysql              #
#########################################################################
# https://hub.docker.com/_/php                                          #
# root:root                                                             #
  web:                                                                  #
    network_mode: bridge                                                #
    container_name: php                                                 #
    image: php:7.2.2-apache                                             #
    restart: always                                                     #
    volumes:                                                            #
      - /home/docker/container/root/php:/var/www/html/                  #
    ports:                                                              #
      - 27015:80                                                        #
#########################################################################
# Plex  : https://hub.docker.com/r/plexinc/pms-docker                   #
#       : https://www.plex.tv/claim/                                    #
# User  : root:root                                                     #
  plex:                                                                 #
    hostname: plex                                                      #
    domainname: lan                                                     #
    network_mode: bridge                                                #
    container_name: pms                                                 #
    image: plexinc/pms-docker                                           #
    restart: always                                                     #
    environment:                                                        #
      TZ: 'Europe\Paris'                                                #
      PLEX_CLAIM: 'XXXXXXXXXXXXXXXXXX'                                  #
    volumes:                                                            #
      - /home/docker/container/root/Plex/config:/config                 #
      - /home/docker/container/root/Plex/transcode:/transcode           #
      - /home/docker/container/root/Plex/data:/data                     #
      - Films:/mnt/Films                                                #
    ports:                                                              #
      - 27018:32400                                                     #
  #######################################################################
